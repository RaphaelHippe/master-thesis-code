import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
# gnb x1 5.551115123125783e-17
# gnb x2 5.551115123125783e-17
# knn x1 0.20800000000000007
# knn x2 -1.1102230246251565e-16
# rfc x1 0.40599999999999997
# rfc x2 -1.1102230246251565e-16
def cm2inch(*tupl):
    inch = 2.54
    if isinstance(tupl[0], tuple):
        return tuple(i/inch for i in tupl[0])
    else:
        return tuple(i/inch for i in tupl)



columns = ['permutation importance', 'labels']
df = pd.DataFrame([
    [0.08599999999999997, 'x1_knn_p10'],
    [0.3379999999999999, 'x1_knn_p10'],
    [0.21799999999999992, 'x1_knn_p10'],
    [0.22999999999999998, 'x1_knn_p10'],
    [0.24, 'x1_knn_p10'],
    [0.13399999999999995, 'x2_knn_p10'],
    [0.31599999999999984, 'x2_knn_p10'],
    [0.20600000000000002, 'x2_knn_p10'],
    [0.276, 'x2_knn_p10'],
    [0.26599999999999996, 'x2_knn_p10'],
    [0.36, 'x1_rfc_p10'],
    [0.3920000000000001, 'x1_rfc_p10'],
    [0.4840000000000001, 'x1_rfc_p10'],
    [0.41200000000000003, 'x1_rfc_p10'],
    [0.3599999999999999, 'x1_rfc_p10'],
    [0.344, 'x2_rfc_p10'],
    [0.41, 'x2_rfc_p10'],
    [0.44799999999999995, 'x2_rfc_p10'],
    [0.45200000000000007, 'x2_rfc_p10'],
    [0.37799999999999995, 'x2_rfc_p10'],
    [-0.009999999999999953, 'x1_gnb_p10'],
    [0.019999999999999907, 'x1_gnb_p10'],
    [-0.02799999999999997, 'x1_gnb_p10'],
    [-0.04999999999999993, 'x1_gnb_p10'],
    [-0.15800000000000003, 'x1_gnb_p10'],
    [-0.00599999999999995, 'x2_gnb_p10'],
    [0.04800000000000004, 'x2_gnb_p10'],
    [-0.02799999999999997, 'x2_gnb_p10'],
    [-0.030000000000000027, 'x2_gnb_p10'],
    [-0.11200000000000004, 'x2_gnb_p10'],
    [0.4537373737373738, 'x1_knn_p100'],
    [0.442020202020202, 'x1_knn_p100'],
    [0.4436363636363636, 'x1_knn_p100'],
    [0.4177777777777777, 'x1_knn_p100'],
    [0.45292929292929285, 'x1_knn_p100'],
    [-1.1102230246251565e-16, 'x2_knn_p100'],
    [1.1102230246251565e-16, 'x2_knn_p100'],
    [-1.1102230246251565e-16, 'x2_knn_p100'],
    [0.0, 'x2_knn_p100'],
    [0.0, 'x2_knn_p100'],
    [0.49131313131313126, 'x1_rfc_p100'],
    [0.5058585858585859, 'x1_rfc_p100'],
    [0.5014141414141415, 'x1_rfc_p100'],
    [0.4876767676767677, 'x1_rfc_p100'],
    [0.5022222222222222, 'x1_rfc_p100'],
    [0.0, 'x2_rfc_p100'],
    [0.0, 'x2_rfc_p100'],
    [0.0, 'x2_rfc_p100'],
    [0.0, 'x2_rfc_p100'],
    [0.0, 'x2_rfc_p100'],
    [0.42060606060606065, 'x1_gnb_p100'],
    [0.41515151515151516, 'x1_gnb_p100'],
    [0.4228282828282829, 'x1_gnb_p100'],
    [0.3977777777777778, 'x1_gnb_p100'],
    [0.41111111111111104, 'x1_gnb_p100'],
    [0.0, 'x2_gnb_p100'],
    [-1.1102230246251565e-16, 'x2_gnb_p100'],
    [1.1102230246251565e-16, 'x2_gnb_p100'],
    [-1.1102230246251565e-16, 'x2_gnb_p100'],
    [0.0, 'x2_gnb_p100'],
], columns=columns)



data_columns = ['x1_knn','x2_knn','x1_rfc','x2_rfc','x1_gnb','x2_gnb']

data_p10 = [
[0.08599999999999997,0.13399999999999995,0.36,0.344,-0.009999999999999953,-0.00599999999999995],
[0.3379999999999999,0.31599999999999984,0.3920000000000001,0.41,0.019999999999999907,0.04800000000000004],
[0.21799999999999992,0.20600000000000002,0.4840000000000001,0.44799999999999995,-0.02799999999999997,-0.02799999999999997],
[0.22999999999999998,0.276,0.41200000000000003,0.45200000000000007,-0.04999999999999993,-0.030000000000000027],
[0.24,0.26599999999999996,0.3599999999999999,0.37799999999999995,-0.15800000000000003,-0.11200000000000004],
]
df_p10 = pd.DataFrame(data_p10, columns=data_columns)
data_p100 = [
[0.4537373737373738,-1.1102230246251565e-16,0.49131313131313126,0.0,0.42060606060606065,0.0],
[0.442020202020202,1.1102230246251565e-16,0.5058585858585859,0.0,0.41515151515151516,-1.1102230246251565e-16],
[0.4436363636363636,-1.1102230246251565e-16,0.5014141414141415,0.0,0.4228282828282829,1.1102230246251565e-16],
[0.4177777777777777,0.0,0.4876767676767677,0.0,0.3977777777777778,-1.1102230246251565e-16],
[0.45292929292929285,0.0,0.5022222222222222,0.0,0.41111111111111104,0.0],
]
df_p100 = pd.DataFrame(data_p100, columns=data_columns)


# df_p10.boxplot(rot=90, figsize=cm2inch(8, 8))
df_p100.boxplot(rot=90, figsize=cm2inch(8, 8))
plt.subplots_adjust(bottom=0.2)
plt.ylim(-0.1, 0.5)
# plt.show()
plt.savefig("./images/p100-permutation-importance-boxplot-autoencoder.svg")



#
# ax = df.boxplot(
# column='permutation importance',
# by='labels',
# figsize=cm2inch(14.69, 10.5),
# rot=90,
# fontsize=6
# )
#
# ax.set_xlabel('')
# plt.suptitle("")
# plt.subplots_adjust(bottom=0.3)
#
# # plt.show()
# plt.savefig("./images/p10-permutation-importance-boxplot-autoencoder.svg")
